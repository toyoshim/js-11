<!DOCTYPE html>
<html>
<head>
    <title>v6 on v8 !?</title>
    <script src="js/Log.js"></script>
    <script src="js/Cpu.js"></script>
    <script src="js/CpuPdp11.js"></script>
    <script src="js/Memory.js"></script>
    <script src="js/MemoryUnibus.js"></script>
    <script src="js/DeviceMmu.js"></script>
    <script src="js/DeviceRk.js"></script>
    <script src="js/DeviceTt.js"></script>
    <script src="js/Pdp11.js"></script>
</head>
<body>
    <pre id="log"></pre>
    <script>
        Log.setLog(new Log("log", true));
        var pdp11 = new Pdp11();
/**/
        Log.setLog(new Log("log", false));
        pdp11.logging = true;
        pdp11.memory.logging = true;
/**/
        pdp11.memory.tt.set(new String("unix\n"));
        pdp11.mountRk0("./data/v6root");
        pdp11.bootRk0();
        tid = setInterval(function() {
            try {
                pdp11.run();
            } catch (e) {
                clearInterval(tid);
                Log.getLog().fatal(e);
            }
        });
        document.onkeypress = function (e) {
            pdp11.memory.tt.set(e.which);
        };
    </script>
</body>
</html>
